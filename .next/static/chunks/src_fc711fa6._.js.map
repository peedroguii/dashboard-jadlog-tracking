{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/lib/xml-parser.ts"],"sourcesContent":["import { RemessaInfo } from '@/types/jadlog';\n\nexport function parseJadlogXML(xmlContent: string): RemessaInfo | null {\n  try {\n    const parser = new DOMParser();\n    const xmlDoc = parser.parseFromString(xmlContent, 'text/xml');\n    \n    // Verificar se há erros de parsing\n    const parserError = xmlDoc.querySelector('parsererror');\n    if (parserError) {\n      console.error('Erro ao fazer parse do XML:', parserError.textContent);\n      return null;\n    }\n\n    // Extrair ID do CTe\n    const infCte = xmlDoc.querySelector('infCte');\n    const cteId = infCte?.getAttribute('Id') || '';\n    \n    // Extrair nome do destinatário\n    const nomeDestinatario = xmlDoc.querySelector('dest xNome')?.textContent || '';\n    \n    // Extrair CPF do destinatário\n    const cpfDestinatario = xmlDoc.querySelector('dest CPF')?.textContent || '';\n    \n    // Extrair CNPJ do remetente\n    const cnpjRemetente = xmlDoc.querySelector('rem CNPJ')?.textContent || '';\n    \n    // Extrair número operacional das observações (apenas a primeira sequência)\n    const observacoes = xmlDoc.querySelector('xObs')?.textContent || '';\n    const numeroOperacionalMatch = observacoes.match(/NUMERO OPERACIONAL:\\s*(\\d+)/);\n    const numeroOperacional = numeroOperacionalMatch ? numeroOperacionalMatch[1] : '';\n    \n    // Extrair data de emissão (opcional)\n    const dataEmissao = xmlDoc.querySelector('dhEmi')?.textContent || '';\n    \n    // Extrair valor do frete (opcional)\n    const valorFreteText = xmlDoc.querySelector('vTPrest')?.textContent || '0';\n    const valorFrete = parseFloat(valorFreteText);\n\n    // Validar se os campos obrigatórios estão presentes\n    if (!nomeDestinatario || !cpfDestinatario || !cnpjRemetente) {\n      console.error('Campos obrigatórios não encontrados no XML');\n      return null;\n    }\n\n    return {\n      id: cteId,\n      nomeDestinatario,\n      cpfDestinatario,\n      cnpjRemetente,\n      numeroOperacional,\n      dataEmissao,\n      valorFrete\n    };\n  } catch (error) {\n    console.error('Erro ao processar XML:', error);\n    return null;\n  }\n}\n\nexport function parseMultipleXMLFiles(files: FileList): Promise<RemessaInfo[]> {\n  const promises = Array.from(files).map(file => {\n    return new Promise<RemessaInfo | null>((resolve) => {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const content = e.target?.result as string;\n        const parsed = parseJadlogXML(content);\n        resolve(parsed);\n      };\n      reader.onerror = () => resolve(null);\n      reader.readAsText(file);\n    });\n  });\n\n  return Promise.all(promises).then(results => \n    results.filter((item): item is RemessaInfo => item !== null)\n  );\n}\n"],"names":[],"mappings":";;;;AAEO,SAAS,eAAe,UAAkB;IAC/C,IAAI;QACF,MAAM,SAAS,IAAI;QACnB,MAAM,SAAS,OAAO,eAAe,CAAC,YAAY;QAElD,mCAAmC;QACnC,MAAM,cAAc,OAAO,aAAa,CAAC;QACzC,IAAI,aAAa;YACf,QAAQ,KAAK,CAAC,+BAA+B,YAAY,WAAW;YACpE,OAAO;QACT;QAEA,oBAAoB;QACpB,MAAM,SAAS,OAAO,aAAa,CAAC;QACpC,MAAM,QAAQ,QAAQ,aAAa,SAAS;QAE5C,+BAA+B;QAC/B,MAAM,mBAAmB,OAAO,aAAa,CAAC,eAAe,eAAe;QAE5E,8BAA8B;QAC9B,MAAM,kBAAkB,OAAO,aAAa,CAAC,aAAa,eAAe;QAEzE,4BAA4B;QAC5B,MAAM,gBAAgB,OAAO,aAAa,CAAC,aAAa,eAAe;QAEvE,2EAA2E;QAC3E,MAAM,cAAc,OAAO,aAAa,CAAC,SAAS,eAAe;QACjE,MAAM,yBAAyB,YAAY,KAAK,CAAC;QACjD,MAAM,oBAAoB,yBAAyB,sBAAsB,CAAC,EAAE,GAAG;QAE/E,qCAAqC;QACrC,MAAM,cAAc,OAAO,aAAa,CAAC,UAAU,eAAe;QAElE,oCAAoC;QACpC,MAAM,iBAAiB,OAAO,aAAa,CAAC,YAAY,eAAe;QACvE,MAAM,aAAa,WAAW;QAE9B,oDAAoD;QACpD,IAAI,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,eAAe;YAC3D,QAAQ,KAAK,CAAC;YACd,OAAO;QACT;QAEA,OAAO;YACL,IAAI;YACJ;YACA;YACA;YACA;YACA;YACA;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO;IACT;AACF;AAEO,SAAS,sBAAsB,KAAe;IACnD,MAAM,WAAW,MAAM,IAAI,CAAC,OAAO,GAAG,CAAC,CAAA;QACrC,OAAO,IAAI,QAA4B,CAAC;YACtC,MAAM,SAAS,IAAI;YACnB,OAAO,MAAM,GAAG,CAAC;gBACf,MAAM,UAAU,EAAE,MAAM,EAAE;gBAC1B,MAAM,SAAS,eAAe;gBAC9B,QAAQ;YACV;YACA,OAAO,OAAO,GAAG,IAAM,QAAQ;YAC/B,OAAO,UAAU,CAAC;QACpB;IACF;IAEA,OAAO,QAAQ,GAAG,CAAC,UAAU,IAAI,CAAC,CAAA,UAChC,QAAQ,MAAM,CAAC,CAAC,OAA8B,SAAS;AAE3D","debugId":null}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/UploadXML.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { RemessaInfo } from '@/types/jadlog';\nimport { parseMultipleXMLFiles } from '@/lib/xml-parser';\n\ninterface UploadXMLProps {\n  onUpload: (remessas: RemessaInfo[]) => void;\n  compact?: boolean;\n}\n\nexport default function UploadXML({ onUpload, compact = false }: UploadXMLProps) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = event.target.files;\n    if (!files || files.length === 0) return;\n\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const remessas = await parseMultipleXMLFiles(files);\n      \n      if (remessas.length === 0) {\n        setError('Nenhum arquivo XML válido foi encontrado ou processado.');\n        return;\n      }\n\n      onUpload(remessas);\n      \n      // Reset do input\n      event.target.value = '';\n    } catch (err) {\n      setError('Erro ao processar os arquivos XML. Verifique se os arquivos são válidos.');\n      console.error('Erro no upload:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (compact) {\n    return (\n      <div className=\"relative\">\n        <label htmlFor=\"xml-upload-compact\" className=\"cursor-pointer\">\n          <div className=\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center\">\n            <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n            </svg>\n            {isLoading ? 'Processando...' : 'Carregar XML'}\n          </div>\n        </label>\n        <input\n          id=\"xml-upload-compact\"\n          type=\"file\"\n          multiple\n          accept=\".xml,text/xml,application/xml\"\n          onChange={handleFileUpload}\n          disabled={isLoading}\n          className=\"hidden\"\n        />\n        {error && (\n          <div className=\"absolute top-full left-0 right-0 mt-2 text-red-600 text-xs bg-red-50 p-2 rounded-md\">\n            {error}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-full max-w-md mx-auto\">\n      <div className=\"bg-white rounded-lg border-2 border-dashed border-gray-300 p-6 text-center hover:border-gray-400 transition-colors\">\n        <div className=\"space-y-4\">\n          <div className=\"text-gray-600\">\n            <svg className=\"mx-auto h-12 w-12 text-gray-400\" stroke=\"currentColor\" fill=\"none\" viewBox=\"0 0 48 48\">\n              <path d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n            </svg>\n          </div>\n          \n          <div>\n            <label htmlFor=\"xml-upload\" className=\"cursor-pointer\">\n              <span className=\"text-lg font-medium text-gray-900\">\n                Carregar arquivos XML\n              </span>\n              <p className=\"text-sm text-gray-500 mt-1\">\n                Selecione um ou mais arquivos XML da Jadlog\n              </p>\n            </label>\n            <input\n              id=\"xml-upload\"\n              type=\"file\"\n              multiple\n              accept=\".xml,text/xml,application/xml\"\n              onChange={handleFileUpload}\n              disabled={isLoading}\n              className=\"hidden\"\n            />\n          </div>\n\n          {isLoading && (\n            <div className=\"flex items-center justify-center space-x-2\">\n              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900\"></div>\n              <span className=\"text-sm text-gray-600\">Processando arquivos...</span>\n            </div>\n          )}\n\n          {error && (\n            <div className=\"text-red-600 text-sm bg-red-50 p-3 rounded-md\">\n              {error}\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"mt-4 text-xs text-gray-500 text-center\">\n        <p>Formatos aceitos: XML</p>\n        <p>Múltiplos arquivos podem ser selecionados</p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;;;AAJA;;;AAWe,SAAS,UAAU,EAAE,QAAQ,EAAE,UAAU,KAAK,EAAkB;;IAC7E,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,MAAM,mBAAmB,OAAO;QAC9B,MAAM,QAAQ,MAAM,MAAM,CAAC,KAAK;QAChC,IAAI,CAAC,SAAS,MAAM,MAAM,KAAK,GAAG;QAElC,aAAa;QACb,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,CAAA,GAAA,8HAAA,CAAA,wBAAqB,AAAD,EAAE;YAE7C,IAAI,SAAS,MAAM,KAAK,GAAG;gBACzB,SAAS;gBACT;YACF;YAEA,SAAS;YAET,iBAAiB;YACjB,MAAM,MAAM,CAAC,KAAK,GAAG;QACvB,EAAE,OAAO,KAAK;YACZ,SAAS;YACT,QAAQ,KAAK,CAAC,mBAAmB;QACnC,SAAU;YACR,aAAa;QACf;IACF;IAEA,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAM,SAAQ;oBAAqB,WAAU;8BAC5C,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;gCAAe,MAAK;gCAAO,QAAO;gCAAe,SAAQ;0CACtE,cAAA,6LAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAG,GAAE;;;;;;;;;;;4BAEtE,YAAY,mBAAmB;;;;;;;;;;;;8BAGpC,6LAAC;oBACC,IAAG;oBACH,MAAK;oBACL,QAAQ;oBACR,QAAO;oBACP,UAAU;oBACV,UAAU;oBACV,WAAU;;;;;;gBAEX,uBACC,6LAAC;oBAAI,WAAU;8BACZ;;;;;;;;;;;;IAKX;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;gCAAkC,QAAO;gCAAe,MAAK;gCAAO,SAAQ;0CACzF,cAAA,6LAAC;oCAAK,GAAE;oCAAyL,aAAa;oCAAG,eAAc;oCAAQ,gBAAe;;;;;;;;;;;;;;;;sCAI1P,6LAAC;;8CACC,6LAAC;oCAAM,SAAQ;oCAAa,WAAU;;sDACpC,6LAAC;4CAAK,WAAU;sDAAoC;;;;;;sDAGpD,6LAAC;4CAAE,WAAU;sDAA6B;;;;;;;;;;;;8CAI5C,6LAAC;oCACC,IAAG;oCACH,MAAK;oCACL,QAAQ;oCACR,QAAO;oCACP,UAAU;oCACV,UAAU;oCACV,WAAU;;;;;;;;;;;;wBAIb,2BACC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;;;;;8CACf,6LAAC;oCAAK,WAAU;8CAAwB;;;;;;;;;;;;wBAI3C,uBACC,6LAAC;4BAAI,WAAU;sCACZ;;;;;;;;;;;;;;;;;0BAMT,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;kCAAE;;;;;;kCACH,6LAAC;kCAAE;;;;;;;;;;;;;;;;;;AAIX;GA/GwB;KAAA","debugId":null}},
    {"offset": {"line": 356, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/RemessasList.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { RemessaInfo, TrackingInfo } from '@/types/jadlog';\n\ninterface RemessasListProps {\n  remessas: RemessaInfo[];\n  onClear: () => void;\n  onUpdateRemessa: (index: number, remessa: RemessaInfo) => void;\n  filtroAtivo: string | null;\n}\n\nexport default function RemessasList({ remessas, onClear, onUpdateRemessa, filtroAtivo }: RemessasListProps) {\n  const [searchTerm, setSearchTerm] = useState('');\n\n  if (remessas.length === 0) {\n    return null;\n  }\n\n  const formatCPF = (cpf: string) => {\n    if (cpf.length === 11) {\n      return cpf.replace(/(\\d{3})(\\d{3})(\\d{3})(\\d{2})/, '$1.$2.$3-$4');\n    }\n    return cpf;\n  };\n\n  const formatCNPJ = (cnpj: string) => {\n    if (cnpj.length === 14) {\n      return cnpj.replace(/(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})/, '$1.$2.$3/$4-$5');\n    }\n    return cnpj;\n  };\n\n  const formatDate = (dateString: string) => {\n    if (!dateString) return '-';\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('pt-BR');\n    } catch {\n      return dateString;\n    }\n  };\n\n  const consultarTracking = async (remessa: RemessaInfo, index: number) => {\n    if (!remessa.numeroOperacional) {\n      alert('Número operacional não encontrado para esta remessa');\n      return;\n    }\n\n    // Marcar como carregando\n    onUpdateRemessa(index, { ...remessa, isLoadingTracking: true });\n\n    try {\n      const response = await fetch('/api/tracking', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          numeroOperacional: remessa.numeroOperacional\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Erro ao consultar tracking');\n      }\n\n      const data = await response.json();\n      \n      if (data.consulta && data.consulta[0] && data.consulta[0].tracking) {\n        const trackingData = data.consulta[0].tracking;\n        const tracking: TrackingInfo = {\n          status: trackingData.status || 'Não disponível',\n          ultimaAtualizacao: trackingData.dtEmissao || new Date().toLocaleDateString('pt-BR'),\n          previsaoEntrega: data.consulta[0].previsaoEntrega,\n          eventos: trackingData.eventos || []\n        };\n\n        onUpdateRemessa(index, { \n          ...remessa, \n          tracking, \n          isLoadingTracking: false \n        });\n      } else {\n        // Sem dados de tracking\n        onUpdateRemessa(index, { \n          ...remessa, \n          tracking: {\n            status: 'Não encontrado',\n            ultimaAtualizacao: 'N/A',\n            eventos: []\n          },\n          isLoadingTracking: false \n        });\n      }\n    } catch (error) {\n      console.error('Erro ao consultar tracking:', error);\n      onUpdateRemessa(index, { \n        ...remessa, \n        tracking: {\n          status: 'Erro na consulta',\n          ultimaAtualizacao: 'N/A',\n          eventos: []\n        },\n        isLoadingTracking: false \n      });\n    }\n  };\n\n  const getStatusBadge = (remessa: RemessaInfo) => {\n    if (remessa.isLoadingTracking) {\n      return (\n        <span className=\"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800\">\n          <div className=\"animate-spin rounded-full h-3 w-3 border-b-2 border-gray-600 mr-1\"></div>\n          Consultando...\n        </span>\n      );\n    }\n\n    if (!remessa.tracking) {\n      return (\n        <span className=\"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800\">\n          Clique para consultar\n        </span>\n      );\n    }\n\n    const status = remessa.tracking.status.toLowerCase();\n    \n    if (status.includes('entregue') || status.includes('entrega')) {\n      return (\n        <span className=\"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800\">\n          {remessa.tracking.status}\n        </span>\n      );\n    } else if (status.includes('transito') || status.includes('trânsito')) {\n      return (\n        <span className=\"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800\">\n          {remessa.tracking.status}\n        </span>\n      );\n    } else if (status.includes('problema') || status.includes('erro')) {\n      return (\n        <span className=\"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800\">\n          {remessa.tracking.status}\n        </span>\n      );\n    } else {\n      return (\n        <span className=\"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800\">\n          {remessa.tracking.status}\n        </span>\n      );\n    }\n  };\n\n  // Aplicar filtro baseado no status\n  const aplicarFiltroStatus = (remessa: RemessaInfo) => {\n    if (!filtroAtivo) return true;\n\n    switch (filtroAtivo) {\n      case 'emTransito':\n        return remessa.tracking && (\n          remessa.tracking.status.toLowerCase().includes('transito') || \n          remessa.tracking.status.toLowerCase().includes('trânsito')\n        );\n      case 'entregue':\n        return remessa.tracking && (\n          remessa.tracking.status.toLowerCase().includes('entregue') || \n          remessa.tracking.status.toLowerCase().includes('entrega')\n        );\n      case 'comProblemas':\n        return remessa.tracking && (\n          remessa.tracking.status.toLowerCase().includes('problema') || \n          remessa.tracking.status.toLowerCase().includes('erro')\n        );\n      default:\n        return true;\n    }\n  };\n\n  // Filtrar remessas baseado na pesquisa e filtro de status\n  const filteredRemessas = remessas.filter(remessa => {\n    // Aplicar filtro de status primeiro\n    if (!aplicarFiltroStatus(remessa)) return false;\n\n    // Depois aplicar filtro de pesquisa\n    if (!searchTerm) return true;\n\n    const searchLower = searchTerm.toLowerCase().trim();\n    const searchNumbers = searchTerm.replace(/\\D/g, ''); // Remove tudo que não é número\n    \n    // Buscar apenas por nome do destinatário e CPF do destinatário\n    const nomeMatch = remessa.nomeDestinatario.toLowerCase().includes(searchLower);\n    \n    // Para CPF, verificar se há números na busca e se correspondem\n    const cpfMatch = searchNumbers.length > 0 && (\n      remessa.cpfDestinatario.includes(searchNumbers) ||\n      formatCPF(remessa.cpfDestinatario).includes(searchTerm)\n    );\n    \n    return nomeMatch || cpfMatch;\n  });\n\n  // Calcular remessas próximas ao vencimento\n  const agora = new Date();\n  const proximasAExpirar = remessas.filter(remessa => {\n    if (remessa.tracking?.status.toLowerCase().includes('entregue')) {\n      const dataEntrega = new Date(remessa.tracking.ultimaAtualizacao);\n      const diasDesdeEntrega = Math.floor((agora.getTime() - dataEntrega.getTime()) / (1000 * 60 * 60 * 24));\n      return diasDesdeEntrega >= 5 && diasDesdeEntrega <= 7;\n    }\n    return false;\n  }).length;\n\n  return (\n    <div className=\"w-full max-w-7xl mx-auto\">\n      {/* Header com título e pesquisa */}\n      <div className=\"mb-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h2 className=\"text-xl font-semibold text-gray-900\">\n            Detalhes das Encomendas\n          </h2>\n          \n          {/* Aviso de remessas próximas ao vencimento */}\n          {proximasAExpirar > 0 && (\n            <div className=\"text-sm text-amber-600 bg-amber-50 px-3 py-1 rounded-full\">\n              ⚠️ {proximasAExpirar} remessa{proximasAExpirar > 1 ? 's' : ''} será{proximasAExpirar > 1 ? 'ão' : ''} removida{proximasAExpirar > 1 ? 's' : ''} em breve\n            </div>\n          )}\n        </div>\n        \n        <div className=\"flex justify-between items-center\">\n          <div className=\"relative flex-1 max-w-md\">\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n              <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n            </div>\n            <input\n              type=\"text\"\n              placeholder=\"Pesquisar por nome ou CPF do destinatário...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n          \n          <button\n            onClick={onClear}\n            className=\"ml-4 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center\"\n          >\n            <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n            </svg>\n            Limpar Tudo\n          </button>\n        </div>\n      </div>\n\n      {/* Tabela */}\n      <div className=\"bg-white shadow-sm rounded-lg overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Nome do Cliente\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  CPF\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  CNPJ Remetente\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Nº Operacional\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Status\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Última Atualização\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Ações\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {filteredRemessas.length === 0 ? (\n                <tr>\n                  <td colSpan={7} className=\"px-6 py-8 text-center text-gray-500\">\n                    {filtroAtivo ? \n                      `Nenhuma remessa encontrada com o filtro \"${filtroAtivo}\" aplicado.` :\n                      searchTerm ? \n                        'Nenhuma remessa encontrada com os critérios de pesquisa.' : \n                        'Nenhuma remessa encontrada.'\n                    }\n                  </td>\n                </tr>\n              ) : (\n                filteredRemessas.map((remessa, index) => (\n                  <tr key={remessa.id || index} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm font-medium text-gray-900\">\n                        {remessa.nomeDestinatario}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900 font-mono\">\n                        {formatCPF(remessa.cpfDestinatario)}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900 font-mono\">\n                        {formatCNPJ(remessa.cnpjRemetente)}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900 font-mono\">\n                        {remessa.numeroOperacional || '-'}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {getStatusBadge(remessa)}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">\n                        {remessa.tracking?.ultimaAtualizacao || formatDate(remessa.dataEmissao || '')}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      <button \n                        onClick={() => consultarTracking(remessa, index)}\n                        disabled={remessa.isLoadingTracking}\n                        className=\"text-blue-600 hover:text-blue-900 disabled:opacity-50 disabled:cursor-not-allowed\"\n                      >\n                        {remessa.isLoadingTracking ? 'Consultando...' : 'Consultar'}\n                      </button>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Footer com estatísticas */}\n      <div className=\"mt-6 flex justify-between items-center text-sm text-gray-500\">\n        <p>\n          Mostrando {filteredRemessas.length} de {remessas.length} remessa{remessas.length !== 1 ? 's' : ''}\n          {filtroAtivo && (\n            <span className=\"ml-2 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs\">\n              Filtro: {filtroAtivo === 'emTransito' ? 'Em Trânsito' : \n                      filtroAtivo === 'entregue' ? 'Entregue' : \n                      filtroAtivo === 'comProblemas' ? 'Com Problemas' : filtroAtivo}\n            </span>\n          )}\n        </p>\n        <p>\n          💾 Dados salvos localmente - Remessas entregues são removidas após 7 dias\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 980, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/Dashboard.tsx"],"sourcesContent":["'use client';\n\nimport { RemessaInfo } from '@/types/jadlog';\n\ninterface DashboardProps {\n  remessas: RemessaInfo[];\n  filtroAtivo: string | null;\n  onFiltroChange: (filtro: string | null) => void;\n}\n\nexport default function Dashboard({ remessas, filtroAtivo, onFiltroChange }: DashboardProps) {\n  // Calcular estatísticas baseadas no status de tracking\n  const agora = new Date();\n  let proximasAExpirar = 0;\n\n  const stats = remessas.reduce((acc, remessa) => {\n    if (remessa.tracking?.status.toLowerCase().includes('entregue')) {\n      // Verificar se está próxima de expirar (5-7 dias após entrega)\n      const dataEntrega = new Date(remessa.tracking.ultimaAtualizacao);\n      const diasDesdeEntrega = Math.floor((agora.getTime() - dataEntrega.getTime()) / (1000 * 60 * 60 * 24));\n      \n      if (diasDesdeEntrega >= 5 && diasDesdeEntrega <= 7) {\n        proximasAExpirar++;\n      }\n      \n      acc.entregue++;\n    } else if (remessa.tracking?.status.toLowerCase().includes('problema') || \n               remessa.tracking?.status.toLowerCase().includes('erro')) {\n      acc.comProblemas++;\n    } else if (remessa.tracking) {\n      acc.emTransito++;\n    } else {\n      // Remessas sem tracking ainda\n      acc.pendentes = (acc.pendentes || 0) + 1;\n    }\n    return acc;\n  }, { emTransito: 0, entregue: 0, comProblemas: 0, pendentes: 0 });\n\n  const handleCardClick = (filtro: string) => {\n    if (filtroAtivo === filtro) {\n      onFiltroChange(null); // Remove o filtro se já estiver ativo\n    } else {\n      onFiltroChange(filtro); // Aplica o novo filtro\n    }\n  };\n\n  const cards = [\n    {\n      id: 'emTransito',\n      title: 'Em Trânsito',\n      value: stats.emTransito,\n      subtitle: 'Remessas em movimento',\n      icon: (\n        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n        </svg>\n      ),\n      color: 'bg-blue-500',\n      bgColor: 'bg-blue-50',\n      textColor: 'text-blue-600',\n      hoverColor: 'hover:bg-blue-100',\n      activeColor: 'ring-blue-500'\n    },\n    {\n      id: 'entregue',\n      title: 'Entregue',\n      value: stats.entregue,\n      subtitle: proximasAExpirar > 0 ? `${proximasAExpirar} expira(m) em breve` : 'Entregas concluídas',\n      icon: (\n        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n        </svg>\n      ),\n      color: 'bg-green-500',\n      bgColor: 'bg-green-50',\n      textColor: 'text-green-600',\n      hoverColor: 'hover:bg-green-100',\n      activeColor: 'ring-green-500'\n    },\n    {\n      id: 'comProblemas',\n      title: 'Com Problemas',\n      value: stats.comProblemas,\n      subtitle: 'Requer atenção',\n      icon: (\n        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n        </svg>\n      ),\n      color: 'bg-red-500',\n      bgColor: 'bg-red-50',\n      textColor: 'text-red-600',\n      hoverColor: 'hover:bg-red-100',\n      activeColor: 'ring-red-500'\n    }\n  ];\n\n  return (\n    <div className=\"mb-8\">\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {cards.map((card) => {\n          const isActive = filtroAtivo === card.id;\n          return (\n            <div\n              key={card.id}\n              onClick={() => handleCardClick(card.id)}\n              className={`\n                ${card.bgColor} rounded-lg p-6 cursor-pointer transition-all duration-200 \n                ${card.hoverColor} transform hover:scale-105 hover:shadow-md\n                ${isActive ? `ring-2 ${card.activeColor} shadow-lg scale-105` : ''}\n              `}\n            >\n              <div className=\"flex items-center\">\n                <div className={`flex-shrink-0 p-3 rounded-lg ${card.color}`}>\n                  <div className=\"text-white\">\n                    {card.icon}\n                  </div>\n                </div>\n                <div className=\"ml-4 flex-1\">\n                  <div className=\"flex items-center justify-between\">\n                    <p className=\"text-sm font-medium text-gray-600\">{card.title}</p>\n                    {isActive && (\n                      <div className=\"text-xs bg-white px-2 py-1 rounded-full text-gray-600 font-medium\">\n                        Filtro ativo\n                      </div>\n                    )}\n                  </div>\n                  <p className=\"text-2xl font-bold text-gray-900\">{card.value}</p>\n                  <p className=\"text-xs text-gray-500 mt-1\">{card.subtitle}</p>\n                </div>\n              </div>\n              \n              {/* Indicador visual de que é clicável */}\n              <div className=\"mt-3 text-xs text-gray-400 flex items-center\">\n                <svg className=\"w-3 h-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                </svg>\n                Clique para filtrar\n              </div>\n            </div>\n          );\n        })}\n      </div>\n      \n      {/* Indicador de filtro ativo */}\n      {filtroAtivo && (\n        <div className=\"mt-4 flex items-center justify-center\">\n          <div className=\"bg-white px-4 py-2 rounded-full shadow-sm border flex items-center space-x-2\">\n            <svg className=\"w-4 h-4 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z\" />\n            </svg>\n            <span className=\"text-sm text-gray-600\">\n              Filtro ativo: <strong>{cards.find(c => c.id === filtroAtivo)?.title}</strong>\n            </span>\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                onFiltroChange(null);\n              }}\n              className=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1362, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/hooks/useRemessasStorage.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { RemessaInfo } from '@/types/jadlog';\n\nconst STORAGE_KEY = 'jadlog_remessas';\nconst DIAS_PARA_OCULTAR_ENTREGUES = 7;\n\nexport function useRemessasStorage() {\n  const [remessas, setRemessas] = useState<RemessaInfo[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Carregar remessas do localStorage na inicialização\n  useEffect(() => {\n    const carregarRemessas = () => {\n      try {\n        const dadosSalvos = localStorage.getItem(STORAGE_KEY);\n        if (dadosSalvos) {\n          const remessasSalvas: RemessaInfo[] = JSON.parse(dadosSalvos);\n          \n          // Filtrar remessas entregues há mais de 7 dias\n          const agora = new Date();\n          const remessasFiltradas = remessasSalvas.filter(remessa => {\n            if (remessa.tracking?.status.toLowerCase().includes('entregue')) {\n              const dataEntrega = new Date(remessa.tracking.ultimaAtualizacao);\n              const diasDesdeEntrega = Math.floor((agora.getTime() - dataEntrega.getTime()) / (1000 * 60 * 60 * 24));\n              return diasDesdeEntrega <= DIAS_PARA_OCULTAR_ENTREGUES;\n            }\n            return true; // Manter todas as outras remessas\n          });\n\n          // Se houve remoção de remessas antigas, salvar a lista atualizada\n          if (remessasFiltradas.length !== remessasSalvas.length) {\n            localStorage.setItem(STORAGE_KEY, JSON.stringify(remessasFiltradas));\n          }\n\n          setRemessas(remessasFiltradas);\n        }\n      } catch (error) {\n        console.error('Erro ao carregar remessas do localStorage:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    carregarRemessas();\n  }, []);\n\n  // Salvar remessas no localStorage sempre que a lista mudar\n  const salvarRemessas = (novasRemessas: RemessaInfo[]) => {\n    try {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(novasRemessas));\n      setRemessas(novasRemessas);\n    } catch (error) {\n      console.error('Erro ao salvar remessas no localStorage:', error);\n    }\n  };\n\n  // Adicionar novas remessas (evitando duplicatas)\n  const adicionarRemessas = (novasRemessas: RemessaInfo[]) => {\n    const remessasExistentes = [...remessas];\n    \n    novasRemessas.forEach(novaRemessa => {\n      // Verificar se já existe uma remessa com o mesmo número operacional\n      const jaExiste = remessasExistentes.some(\n        remessa => remessa.numeroOperacional === novaRemessa.numeroOperacional\n      );\n      \n      if (!jaExiste) {\n        remessasExistentes.push(novaRemessa);\n      }\n    });\n\n    salvarRemessas(remessasExistentes);\n  };\n\n  // Atualizar uma remessa específica\n  const atualizarRemessa = (index: number, remessaAtualizada: RemessaInfo) => {\n    const novasRemessas = [...remessas];\n    novasRemessas[index] = remessaAtualizada;\n    salvarRemessas(novasRemessas);\n  };\n\n  // Limpar todas as remessas\n  const limparRemessas = () => {\n    try {\n      localStorage.removeItem(STORAGE_KEY);\n      setRemessas([]);\n    } catch (error) {\n      console.error('Erro ao limpar remessas:', error);\n    }\n  };\n\n  // Remover remessas entregues há mais de 7 dias manualmente\n  const limparRemessasAntigas = () => {\n    const agora = new Date();\n    const remessasFiltradas = remessas.filter(remessa => {\n      if (remessa.tracking?.status.toLowerCase().includes('entregue')) {\n        const dataEntrega = new Date(remessa.tracking.ultimaAtualizacao);\n        const diasDesdeEntrega = Math.floor((agora.getTime() - dataEntrega.getTime()) / (1000 * 60 * 60 * 24));\n        return diasDesdeEntrega <= DIAS_PARA_OCULTAR_ENTREGUES;\n      }\n      return true;\n    });\n\n    salvarRemessas(remessasFiltradas);\n    return remessas.length - remessasFiltradas.length; // Retorna quantas foram removidas\n  };\n\n  // Obter estatísticas das remessas\n  const obterEstatisticas = () => {\n    const agora = new Date();\n    let proximasAExpirar = 0;\n\n    const stats = remessas.reduce((acc, remessa) => {\n      if (remessa.tracking?.status.toLowerCase().includes('entregue')) {\n        const dataEntrega = new Date(remessa.tracking.ultimaAtualizacao);\n        const diasDesdeEntrega = Math.floor((agora.getTime() - dataEntrega.getTime()) / (1000 * 60 * 60 * 24));\n        \n        if (diasDesdeEntrega >= 5) { // Próximas a expirar (5-7 dias)\n          proximasAExpirar++;\n        }\n        \n        acc.entregue++;\n      } else if (remessa.tracking?.status.toLowerCase().includes('problema') || \n                 remessa.tracking?.status.toLowerCase().includes('erro')) {\n        acc.comProblemas++;\n      } else {\n        acc.emTransito++;\n      }\n      return acc;\n    }, { emTransito: 0, entregue: 0, comProblemas: 0 });\n\n    return { ...stats, proximasAExpirar };\n  };\n\n  return {\n    remessas,\n    isLoading,\n    adicionarRemessas,\n    atualizarRemessa,\n    limparRemessas,\n    limparRemessasAntigas,\n    obterEstatisticas\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1514, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { RemessaInfo } from '@/types/jadlog';\nimport UploadXML from '@/components/UploadXML';\nimport RemessasList from '@/components/RemessasList';\nimport Dashboard from '@/components/Dashboard';\nimport { useRemessasStorage } from '@/hooks/useRemessasStorage';\n\nexport default function Home() {\n  const {\n    remessas,\n    isLoading,\n    adicionarRemessas,\n    atualizarRemessa,\n    limparRemessas,\n    limparRemessasAntigas,\n    obterEstatisticas\n  } = useRemessasStorage();\n\n  const [filtroAtivo, setFiltroAtivo] = useState<string | null>(null);\n\n  const handleUpload = (novasRemessas: RemessaInfo[]) => {\n    adicionarRemessas(novasRemessas);\n  };\n\n  const handleClear = () => {\n    const confirmacao = window.confirm(\n      '⚠️ ATENÇÃO: Esta ação irá remover TODAS as remessas permanentemente!\\n\\n' +\n      'Você tem certeza que deseja continuar?\\n\\n' +\n      'Esta ação não pode ser desfeita.'\n    );\n    \n    if (confirmacao) {\n      const segundaConfirmacao = window.confirm(\n        '🚨 CONFIRMAÇÃO FINAL\\n\\n' +\n        'Você está prestes a apagar TODAS as remessas do sistema.\\n\\n' +\n        'Clique em OK para confirmar a exclusão definitiva.'\n      );\n      \n      if (segundaConfirmacao) {\n        limparRemessas();\n        setFiltroAtivo(null); // Limpar filtro também\n      }\n    }\n  };\n\n  const handleUpdateRemessa = (index: number, remessaAtualizada: RemessaInfo) => {\n    atualizarRemessa(index, remessaAtualizada);\n  };\n\n  const handleLimparAntigas = () => {\n    const removidas = limparRemessasAntigas();\n    if (removidas > 0) {\n      alert(`${removidas} remessa${removidas > 1 ? 's' : ''} entregue${removidas > 1 ? 's' : ''} há mais de 7 dias foi${removidas > 1 ? 'ram' : ''} removida${removidas > 1 ? 's' : ''} do dashboard.`);\n    } else {\n      alert('Nenhuma remessa antiga foi encontrada para remoção.');\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <main className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Carregando remessas salvas...</p>\n        </div>\n      </main>\n    );\n  }\n\n  return (\n    <main className=\"min-h-screen bg-gray-50\">\n      <div className=\"container mx-auto px-4 py-8\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-8\">\n          <div className=\"flex items-center\">\n            <div className=\"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center mr-3\">\n              <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n              </svg>\n            </div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">\n              Dashboard de Rastreamento Jadlog\n            </h1>\n          </div>\n          \n          {/* Botões de ação */}\n          {remessas.length > 0 && (\n            <div className=\"flex space-x-2\">\n              <button\n                onClick={handleLimparAntigas}\n                className=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n              >\n                Limpar Antigas\n              </button>\n              <span className=\"text-sm text-gray-500 self-center\">\n                Total: {remessas.length} remessas\n              </span>\n            </div>\n          )}\n        </div>\n\n        {/* Upload Section - Mostrar apenas se não houver remessas */}\n        {remessas.length === 0 && (\n          <div className=\"mb-12\">\n            <div className=\"text-center mb-8\">\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">\n                Importe seus arquivos XML\n              </h2>\n              <p className=\"text-gray-600\">\n                Carregue os arquivos XML da Jadlog para visualizar as informações das remessas\n              </p>\n              <div className=\"mt-4 p-4 bg-blue-50 rounded-lg\">\n                <p className=\"text-sm text-blue-800\">\n                  <strong>💾 Banco de Dados Local:</strong> Suas remessas ficam salvas no navegador. \n                  Remessas entregues são automaticamente removidas após 7 dias.\n                </p>\n              </div>\n            </div>\n            <UploadXML onUpload={handleUpload} />\n          </div>\n        )}\n\n        {/* Dashboard e Lista - Mostrar apenas se houver remessas */}\n        {remessas.length > 0 && (\n          <>\n            {/* Dashboard Cards */}\n            <Dashboard \n              remessas={remessas} \n              filtroAtivo={filtroAtivo}\n              onFiltroChange={setFiltroAtivo}\n            />\n\n            {/* Upload compacto quando há remessas */}\n            <div className=\"mb-6\">\n              <div className=\"bg-white rounded-lg shadow-sm p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h3 className=\"text-sm font-medium text-gray-900\">Adicionar mais remessas</h3>\n                    <p className=\"text-xs text-gray-500\">Carregue arquivos XML adicionais - duplicatas são ignoradas automaticamente</p>\n                  </div>\n                  <div className=\"flex-shrink-0\">\n                    <UploadXML onUpload={handleUpload} compact />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Lista de Remessas */}\n            <RemessasList \n              remessas={remessas} \n              onClear={handleClear} \n              onUpdateRemessa={handleUpdateRemessa}\n              filtroAtivo={filtroAtivo}\n            />\n          </>\n        )}\n\n        {/* Instructions - Mostrar apenas se não houver remessas */}\n        {remessas.length === 0 && (\n          <div className=\"max-w-3xl mx-auto mt-16\">\n            <div className=\"bg-white rounded-lg shadow-sm p-8\">\n              <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">\n                Como usar esta ferramenta\n              </h3>\n              <div className=\"space-y-4 text-gray-600\">\n                <div className=\"flex items-start space-x-3\">\n                  <div className=\"flex-shrink-0 w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-medium\">\n                    1\n                  </div>\n                  <p>\n                    <strong>Selecione os arquivos XML:</strong> Clique no botão de upload acima e selecione um ou mais arquivos XML fornecidos pela Jadlog. Os dados ficam salvos permanentemente.\n                  </p>\n                </div>\n                <div className=\"flex items-start space-x-3\">\n                  <div className=\"flex-shrink-0 w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-medium\">\n                    2\n                  </div>\n                  <p>\n                    <strong>Consulte o tracking:</strong> Clique em \"Consultar\" para obter o status atualizado via API da Jadlog. O status fica salvo e atualiza as estatísticas.\n                  </p>\n                </div>\n                <div className=\"flex items-start space-x-3\">\n                  <div className=\"flex-shrink-0 w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-medium\">\n                    3\n                  </div>\n                  <p>\n                    <strong>Limpeza automática:</strong> Remessas entregues são automaticamente removidas após 7 dias. Use \"Limpar Antigas\" para forçar a limpeza.\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}